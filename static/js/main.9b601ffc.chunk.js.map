{"version":3,"sources":["models/venus.glb","index.js"],"names":["module","exports","firebase","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","ThreeJS","rotationmodifier","scene","THREE","camera","window","innerWidth","innerHeight","renderer","alpha","setClearColor","shadowMap","enabled","shadowMapSoft","type","setSize","document","body","appendChild","domElement","geometry","material","color","side","opacity","plane","position","z","receiveShadow","add","loader","GLTFLoader","spotLight","set","intensity","castShadow","shadow","mapSize","width","height","left","right","top","bottom","radius","light2","originalobjectsonlyyrotate","originalobjectsfullrotate","animatableobjectsfullrotate","load","scenedata","gltf","console","log","traverse","object","name","venus","getObjectByName","chandelier","candelabra","push","randompositions","randomypositions","window_focus","onblur","onfocus","createNewFullRotate","length","slice","y","objectclone","Math","floor","random","clone","x","aspect","setTimeout","fullRotate","requestAnimationFrame","forEach","rotation","remove","render","undefined","error","checkScrollSpeed","settings","lastPos","newPos","timer","delta","delay","clear","scrollY","clearTimeout","onscroll","winScroll","scrollTop","documentElement","scrollHeight","clientHeight","scrolled","abs","scrollCam","globalResizeTimer","$","resize","updateProjectionMatrix","callback","isScrolling","addEventListener","event","scrollStop","ref","mount","Component","RecList","database","state","recs","currenttitle","updateRecs","bind","this","setState","className","map","rec","RecUnit","title","link","description","formdata","types","RadioButtons","selectedOption","radioChange","e","currentTarget","value","typeval","id","checked","key","onChange","for","class","toUpperCase","React","href","props","Form","currentItem","username","handleChange","handleSubmit","target","preventDefault","itemsRef","item","user","onSubmit","placeholder","App","currentuser","loggedin","currentrecs","addModalVisible","recList","createRef","stepWizard","getCurrentRecs","getTrendingRecs","addModalShow","selectedbutton","removeClass","addClass","setButtonState","component","orderByChild","limitToLast","once","then","snapshot","reclist","childSnapshot","childKey","childData","val","reverse","current","onClick","classname","visible","measure","onClose","addModalHide","rootElement","getElementById","ReactDOM"],"mappings":"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","file":"static/js/main.9b601ffc.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/venus.f6ef71ab.glb\";","import React, { Component } from \"react\";\nimport ReactDOM from \"react-dom\";\nimport * as THREE from \"three\";\nimport { GLTFLoader } from \"three/examples/jsm/loaders/GLTFLoader\";\nimport firebase from \"firebase\";\nimport $ from \"jquery\"\nimport Rodal from 'rodal';\nimport StepWizard from 'react-step-wizard';\n\nimport 'rodal/lib/rodal.css';\nimport './css/sample.css';\nimport scenedata from './models/venus.glb'\n\n\n\n\n\n// Your web app's Firebase configuration\nvar firebaseConfig = {\n  apiKey: \"AIzaSyDiGzl-w4zQsJQG9c-7UsL0t9-CF9RnOUE\",\n  authDomain: \"recworld-abde0.firebaseapp.com\",\n  databaseURL: \"https://recworld-abde0.firebaseio.com\",\n  projectId: \"recworld-abde0\",\n  storageBucket: \"recworld-abde0.appspot.com\",\n  messagingSenderId: \"301870437630\",\n  appId: \"1:301870437630:web:c3eb9472d89f2ab1a101af\"\n};\n// Initialize Firebase\nfirebase.initializeApp(firebaseConfig);\n\nclass ThreeJS extends Component {\n  componentDidMount() {\n    // === THREE.JS CODE START ===\n    var rotationmodifier = 0.0001\n    var scene = new THREE.Scene();\n    var camera = new THREE.PerspectiveCamera(\n      50,\n      window.innerWidth / window.innerHeight,\n      0.1,\n      1000\n    );\n\n\n   \n\n    var renderer = new THREE.WebGLRenderer({ alpha: true });\n    renderer.setClearColor(0xffffff, 0);\n    renderer.shadowMap.enabled = true;\n    renderer.shadowMapSoft = true;\n    renderer.shadowMap.type = THREE.PCFSoftShadowMap;\n\n    renderer.setSize(window.innerWidth, window.innerHeight);\n    document.body.appendChild(renderer.domElement);\n    var geometry = new THREE.PlaneGeometry(200, 200, 200);\n    var material = new THREE.ShadowMaterial({\n      color: 0x666666,\n      side: THREE.DoubleSide\n    });\n    material.opacity = 0.2;\n    var plane = new THREE.Mesh(geometry, material);\n    plane.position.z = -5;\n    plane.receiveShadow = true;\n    scene.add(plane);\n\n    camera.position.z = 7.5;\n    var loader = new GLTFLoader();\n\n    var spotLight = new THREE.SpotLight(0xf5f5f5);\n    spotLight.position.set(-0.5, -0.5, 10);\n    spotLight.intensity = 1;\n\n    spotLight.castShadow = true;\n\n    const shadowmapmultiplier = 3;\n\n    spotLight.shadow.mapSize.width = 1024 * 3;\n    spotLight.shadow.mapSize.height = 1024 * 3;\n\n    const d = 10;\n\n    spotLight.shadow.camera.left = -d;\n    spotLight.shadow.camera.right = d;\n    spotLight.shadow.camera.top = d;\n    spotLight.shadow.camera.bottom = -d;\n    spotLight.shadow.radius = 3;\n    scene.add(spotLight);\n\n    var light2 = new THREE.AmbientLight(0xf5f5f5); // soft white light\n    light2.intensity = 0.25;\n    scene.add(light2);\n    camera.add(light2)\n    //scene.environment = new THREE.Color( 0x00ff00)\n\n\n\n    var originalobjectsonlyyrotate = []\n    var originalobjectsfullrotate = []\n\n    var animatableobjectsfullrotate = []\n    var animatableobjectsonlyyrotate = []\n\n    loader.load(\n      scenedata,\n      function(gltf) {\n        console.log('loaded scene')\n        scene.add(gltf.scene);\n\n        scene.traverse (function (object) {\n\n          console.log(object.name)\n        })\n\n        gltf.scene.position.z = -1000\n\n        var venus = scene.getObjectByName(\n          \"venus\"\n        );\n        var chandelier = scene.getObjectByName(\"chandelier\")\n        var candelabra = scene.getObjectByName(\"Circle002\")\n        venus.castShadow = true;\n        chandelier.castShadow = true;\n        candelabra.castShadow = true;\n\n\n//chandelier.material = material\n//venus.material = material\n        originalobjectsonlyyrotate.push(venus)\n        originalobjectsfullrotate.push(chandelier)\n        originalobjectsfullrotate.push(candelabra)\n\n       // animatableobjects.push(venus)\n      //  animatableobjects.push(chandelier)\n\n        var randompositions = [-3, -3.2, -3.1,3, 3.2, 3.1]\n        var randomypositions = [2, 3, 5]\n\n        var window_focus = true;\n\nwindow.onblur = function() { window_focus = false; }\nwindow.onfocus = function() { window_focus = true; }\n        //venus.material = new THREE.MeshPhysicalMaterial()\n      function createNewFullRotate() {\n    \n\n        function canAdd() {\n          if (animatableobjectsfullrotate.length > 0 ) {\n            if (animatableobjectsfullrotate.slice(-1)[0].position.y > -8) {\n              return true\n            } else {\n              return false\n            }\n          } else {\n            return true\n          }\n        } \n        if (window_focus && canAdd()) {\n        var object = originalobjectsfullrotate[Math.floor(Math.random()*originalobjectsfullrotate.length)];\n\n          var objectclone = object.clone()\n          scene.add(objectclone)\n          objectclone.position.x = randompositions[Math.floor(Math.random()*randompositions.length)] * (camera.aspect - 0.1)\n          objectclone.position.y =  -8 - randomypositions[Math.floor(Math.random()*randomypositions.length)]\n          animatableobjectsfullrotate.push(objectclone)\n        }\n          setTimeout(createNewFullRotate, 3000);\n        \n      }\n      \n      createNewFullRotate();\n\n      var fullRotate = function() {\n          requestAnimationFrame(fullRotate);\n          //venus.rotation.z += 0.001;\n\n          animatableobjectsfullrotate.forEach(function(object) {\n            \n             object.rotation.y += 0.005 + (rotationmodifier * 0.01)\n             object.rotation.x += 0.001\n             object.position.y += 0.005\n             object.position.x += object.position.x/15000\n\n             if (object.position.y > 10 ) {\n               scene.remove(object)\n             }\n            })\n          renderer.render(scene, camera);\n        };\n        fullRotate();\n      },\n      undefined,\n      function(error) {\n        console.error(error);\n      }\n    );\n      var checkScrollSpeed = (function(settings){\n        settings = settings || {};\n    \n        var lastPos, newPos, timer, delta, \n            delay = settings.delay || 50; // in \"ms\" (higher means lower fidelity )\n    \n        function clear() {\n          lastPos = null;\n          delta = 0;\n        }\n    \n        clear();\n    \n        return function(){\n          newPos = window.scrollY;\n          if ( lastPos != null ){ // && newPos < maxScroll \n            delta = newPos -  lastPos;\n          }\n          lastPos = newPos;\n          clearTimeout(timer);\n          timer = setTimeout(clear, delay);\n          return delta;\n        };\n    })();\n    window.onscroll = function() {scrollCam()};\n\n    function scrollCam() {\n      var winScroll = document.body.scrollTop || document.documentElement.scrollTop;\n      var height = document.documentElement.scrollHeight - document.documentElement.clientHeight;\n      var scrolled = (winScroll / height);\n      camera.position.y = 0 - (5 * scrolled)\n      spotLight.position.y = 0 - (5 * scrolled)\n      rotationmodifier = Math.abs(checkScrollSpeed())\n      //console.log (checkScrollSpeed())\n    }\n\n    var globalResizeTimer = null;\n\n    $(window).resize(function() {\n        if(globalResizeTimer != null) window.clearTimeout(globalResizeTimer);\n        globalResizeTimer = window.setTimeout(function() {\n         camera.aspect = window.innerWidth / window.innerHeight\n         camera.updateProjectionMatrix();\n\n         renderer.setSize( window.innerWidth, window.innerHeight );\n\n        }, 200);\n    });\n\n    var scrollStop = function (callback) {\n\n      // Make sure a valid callback was provided\n      if (!callback || typeof callback !== 'function') return;\n    \n      // Setup scrolling variable\n      var isScrolling;\n    \n      // Listen for scroll events\n      window.addEventListener('scroll', function (event) {\n    \n        // Clear our timeout throughout the scroll\n        window.clearTimeout(isScrolling);\n    \n        // Set a timeout to run after scrolling ends\n        isScrolling = setTimeout(function() {\n    \n          // Run the callback\n          callback();\n    \n        }, 66);\n    \n      }, false);\n    \n    };\n    scrollStop(function () {\n      rotationmodifier = 0;\n  });\n\n\n    // === THREE.JS EXAMPLE CODE END ===\n  }\n  render() {\n    return <div ref={ref => (this.mount = ref)}> </div>;\n  }\n}\n\n//// REG HTML BELOW\n\nvar fbdatabase = firebase.database()\n\n\nclass RecToolBar extends Component {\n  constructor() {\n    super();\n    this.state = {\n    }\n    this.handleChange = this.handleChange.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n  }\n  handleChange(e) {\n\n  }\n\n  handleSubmit(e) {\n\n  }\n\n\n}\n\nclass RecList extends Component {\n  constructor() {\n    super();\n    this.state = {\n      recs: [],\n      currenttitle: \"HELLO\"\n    }\n    this.updateRecs = this.updateRecs.bind(this);\n  }\n  updateRecs(recs) {\n    this.setState({\n      recs:recs\n    })\n  }\n  componentDidMount() {\n\n    // var component = this \n\n    // firebase.database().ref('/publicrecs/').once('value').then(function(snapshot) {\n    //   console.log(snapshot)\n  \n    //   var reclist = []\n  \n    //   snapshot.forEach(function(childSnapshot) {\n    //     var childKey = childSnapshot.key;\n    //     console.log(childKey)\n    //     var childData = childSnapshot.val();\n    //     console.log(childData)\n    //     // ...\n    //     reclist.push(childData)\n    //   });\n    //   component.props.updateRecList(reclist)\n\n    //   component.setState({\n    //     recs:reclist\n    //   })\n    // })\n  }\n  \n\n  render() {\n    return (\n      <div className=\"reclist\">\n        <div>{this.state.currenttitle}</div>\n    {this.state.recs.map((rec) => {\n      return (\n        \n        \n        <RecUnit type={rec.type} title={rec.title} link={rec.link} description={rec.description}></RecUnit>\n        \n      )\n    })} </div> \n    )\n  }\n}\n\nvar formdata = {\"creator\":\"\",\"description\":\"\",\"rating\":0,\"title\":\"\",\"type\":\"\"}\nvar types = [\"movie\",\"tv show\",\"game\",\"location\",\"spiritual practice\"]\n\nclass TypeButton extends Component {\n  render()  { return (\n    <div className=\"typebutton\">{this.props.type}</div>\n  )}\n}\n\nclass Step1 extends Component {\n  constructor() {\n    super();\n    this.state = {\n    }\n    this.getType = this.getType.bind(this);\n  }\n  getType(type) {\n    console.log(type)\n    formdata['type'] = type\n    this.props.nextStep()\n  }\n  render() {\n    return (\n      <div className=\"stepForm\">\n\n  <h2>Step {this.props.currentStep}</h2>\n  <p>Is Active: {this.props.isActive}</p>\n  <div className=\"gridcontainer\">\n    <div>\n           {types.map(typeval => <div key={typeval} type={typeval} onClick={this.getType.bind(this,typeval)}>{typeval}</div> )} \n       </div>\n    </div>\n  <p><button onClick={this.props.nextStep}>Next Step</button></p>\n\n      </div>\n    )\n  }\n}\nclass Step2 extends Component {\n  render() {\n    return (\n      <div className=\"stepForm\">\n\n  <h2>Step {this.props.currentStep}</h2>\n  <p>Total Steps: {this.props.totalSteps}</p>\n  <p>Is Active: {this.props.isActive}</p>\n\n  <p><button onClick={this.props.nextStep}>Next Step</button></p>\n \n      </div>\n    )\n  }\n}\n\nclass RadioButtons extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      selectedOption: ''\n    };\n  this.radioChange = this.radioChange.bind(this);\n}\n\n  radioChange(e) {\n    this.setState({\n      selectedOption: e.currentTarget.value\n    });\n  }\n  \n  render() {\n    return (\n      <div className=\"typeselector\">\n        {types.map(typeval => <div className=\"typeradio\"><input id={typeval} checked={this.state.selectedOption === typeval} type=\"radio\" key={typeval} value={typeval} onChange={this.radioChange}/><label for={typeval} class=\"radio\" className=\"button\">{typeval.toUpperCase()}</label></div>)} \n        </div> \n    );\n  }\n}\n\nclass RecUnit extends Component {\n  render() {\n    return (\n      <div className=\"card\"><div className=\"row\">\n\n        <div className=\"col-sm-8\">\n        <h1><a href={this.props.link}>{this.props.title}</a></h1>\n        <p className=\"subtitle\"><h2>{this.props.type}</h2></p></div>\n        <div className=\"col-sm-4\" ><span class=\"material-icons\">\n      theaters\n      </span></div>\n        </div>\n        \n<div className=\"row\">\n        <p>{this.props.description}</p></div>\n      </div>\n    );\n  }\n}\n\nclass Form extends Component {\n  constructor() {\n    super();\n    this.state = {\n      currentItem: '',\n      username: ''\n    }\n    this.handleChange = this.handleChange.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n  }\n  handleChange(e) {\n    this.setState({\n      [e.target.name]: e.target.value\n    });\n  }\n\n  handleSubmit(e) {\n    e.preventDefault();\n    const itemsRef = firebase.database().ref('items');\n    const item = {\n      title: this.state.currentItem,\n      user: this.state.username\n    }\n    itemsRef.push(item);\n    this.setState({\n      currentItem: '',\n      username: ''\n    });\n  }\n\n  render() {\n    return (\n      <section className=\"add-item\">\n  <form  onSubmit={this.handleSubmit}>\n    \n    <input type=\"text\" name=\"title\" placeholder=\"What's your name?\" onChange={this.handleChange} value={this.state.username} />\n    <input type=\"text\" name=\"currentItem\" placeholder=\"What are you bringing?\" onChange={this.handleChange} value={this.state.currentItem} />\n    <RadioButtons/>\n    <button>Add Item</button>\n    <div>{this.state.currentItem}</div>\n  </form>\n</section>\n    )\n  }\n}\n\n\nclass App extends Component {\n  constructor(props) {\n    super();\n    this.state = {\n      currentuser: \"\",\n      loggedin: false,\n      currentrecs: [],\n      addModalVisible:false\n      \n    }\n    this.recList = React.createRef()\n    this.stepWizard = React.createRef()\n    this.getCurrentRecs = this.getCurrentRecs.bind(this)\n    this.getTrendingRecs = this.getTrendingRecs.bind(this)\n    this.addModalShow = this.addModalShow.bind(this)\n\n  }\n  componentDidMount() {\n    this.getCurrentRecs()\n  }\n\n  addModalShow() {\n    this.setState({ addModalVisible: true });\n  }\n\n  addModalHide() {\n    this.setState({ addModalVisible: false });\n  }\n\n  setButtonState(selectedbutton) {\n    $(\".toolbarbutton\").removeClass('selected')\n    $(selectedbutton).addClass('selected')\n  }\n\n  getTrendingRecs() {\n    this.setButtonState($(\".trendingbutton\"))\n\n    var component = this \n\n    firebase.database().ref('/publicrecs/').orderByChild('rating').limitToLast(50).once('value').then(function(snapshot) {\n      console.log(snapshot)\n  \n      var reclist = []\n  \n      snapshot.forEach(function(childSnapshot) {\n        var childKey = childSnapshot.key;\n        console.log(childKey)\n        var childData = childSnapshot.val();\n        console.log(childData)\n        // ...\n        reclist.push(childData)\n      });\n\n      reclist.reverse()\n      component.recList.current.setState({recs:reclist})\n      // component.props.updateRecList(reclist)\n\n      // component.setState({\n      //   recs:reclist\n      // })\n    })\n  }\n  \n  getCurrentRecs() {\n\n    this.setButtonState($(\".newbutton\"))\n    var component = this \n\n    firebase.database().ref('/publicrecs/').once('value').then(function(snapshot) {\n      console.log(snapshot)\n  \n      var reclist = []\n  \n      snapshot.forEach(function(childSnapshot) {\n        var childKey = childSnapshot.key;\n        console.log(childKey)\n        var childData = childSnapshot.val();\n        console.log(childData)\n        // ...\n        reclist.push(childData)\n      });\n\n\n      component.recList.current.setState({recs:reclist})\n      // component.props.updateRecList(reclist)\n\n      // component.setState({\n      //   recs:reclist\n      // })\n    })\n  }\n\n  \n\n  render() { return(\n    <div>    <div class=\"title\"><h1>REC WORLD</h1>\n        <div className=\"toolbar\">\n      <button className=\"toolbarbutton newbutton\" onClick={this.getCurrentRecs}><span class=\"material-icons\">gradient</span>new</button>\n      <button className=\"toolbarbutton trendingbutton\" onClick={this.getTrendingRecs}><span class=\"material-icons\">equalizer</span>TRENDING</button>\n      <button onClick={this.addModalShow}><span class=\"material-icons\">add</span>ADD</button>\n    </div></div>\n    <div class=\"title hidden\"><h1>REC WORLD</h1></div>\n    <div className=\"title\">\n      <div className=\"container\">\n        \n      </div>\n    </div>\n    <div>\n     <RecList ref={this.recList} />  \n      <div className=\"threejs\">\n        <ThreeJS />\n      </div>\n    </div>\n    <div classname=\"addform\">\n      \n    <Rodal visible={this.state.addModalVisible} measure={''} width={10} height={10} onClose={this.addModalHide.bind(this)}>\n    <Form></Form>\n        </Rodal>\n      </div>\n  </div>\n  )}\n}\n\nconst rootElement = document.getElementById(\"root\");\nReactDOM.render(\n<App/>,\n  rootElement\n);\n\n"],"sourceRoot":""}