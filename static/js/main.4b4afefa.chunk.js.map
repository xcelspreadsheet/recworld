{"version":3,"sources":["models/venus.glb","index.js"],"names":["module","exports","document","documentElement","navigator","maxTouchPoints","msMaxTouchPoints","si","styleSheets","styleSheet","rules","ri","length","selectorText","match","deleteRule","ex","firebase","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","ThreeJS","rotationmodifier","scene","THREE","camera","window","innerWidth","innerHeight","renderer","alpha","setClearColor","shadowMap","enabled","shadowMapSoft","type","setSize","body","appendChild","domElement","geometry","material","color","side","opacity","plane","position","z","receiveShadow","add","loader","GLTFLoader","spotLight","set","intensity","castShadow","shadow","mapSize","width","height","left","right","top","bottom","radius","light2","originalobjectsfullrotate","animatableobjectsfullrotate","load","scenedata","gltf","console","log","traverse","object","name","cup","getObjectByName","chandelier","candelabra","push","randompositions","randomypositions","window_focus","onblur","onfocus","forEach","yposition","objectclone","Math","floor","random","clone","x","aspect","y","createNewFullRotate","slice","setTimeout","fullRotate","requestAnimationFrame","rotation","remove","render","undefined","error","checkScrollSpeed","settings","lastPos","newPos","timer","delta","delay","clear","scrollY","clearTimeout","onscroll","winScroll","scrollTop","scrollHeight","clientHeight","scrolled","abs","scrollCam","globalResizeTimer","$","resize","updateProjectionMatrix","callback","isScrolling","addEventListener","event","scrollStop","ref","mount","Component","RecList","database","state","recs","currenttitle","updateRecs","bind","this","setState","className","map","rec","RecUnit","index","key","fbid","title","link","description","types","typedict","React","readdClass","el","classname","removeClass","newone","before","like","e","target","hasClass","component","element","currentTarget","offsetWidth","addClass","find","iloveittext","iloveittextbackground","props","once","then","snapshot","val","rating","update","hrefattr","href","onClick","Form","linkvalid","buttonColor","handleChange","handleSubmit","radioChange","checkLink","handleCancel","value","url","test","validate","preventDefault","itemsRef","item","creator","addModalSuccess","getCurrentRecs","addModalHide","placeholder","onChange","style","Object","keys","typeval","id","checked","for","class","toUpperCase","trim","App","currentuser","loggedin","currentrecs","rodaldialogstate","rodalmaskstate","filterset","currentupdatemethod","filtertoolbaropen","recList","createRef","stepWizard","getTrendingRecs","addModalShow","text","selectedbutton","targetval","setButtonState","orderByChild","limitToLast","reclist","childSnapshot","childKey","childData","reverse","current","animate","equalTo","sort","first","second","toolbarval","toggleFilterToobar","onMouseOver","filterToolbarShow","onMouseOut","filterToolbarClose","filterChange","rootElement","getElementById","ReactDOM"],"mappings":"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","file":"static/js/main.4b4afefa.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/venus.19786740.glb\";","import React, { Component } from \"react\";\nimport ReactDOM from \"react-dom\";\nimport * as THREE from \"three\";\nimport { GLTFLoader } from \"three/examples/jsm/loaders/GLTFLoader\";\nimport firebase from \"firebase\";\nimport $ from \"jquery\"\nimport Rodal from 'rodal';\nimport 'rodal/lib/rodal.css';\nimport './css/sample.css';\nimport scenedata from './models/venus.glb'\n\n\nfunction hasTouch() {\n  return 'ontouchstart' in document.documentElement\n         || navigator.maxTouchPoints > 0\n         || navigator.msMaxTouchPoints > 0;\n}\n\nif (hasTouch()) { // remove all the :hover stylesheets\n  try { // prevent exception on browsers not supporting DOM styleSheets properly\n      for (var si in document.styleSheets) {\n          var styleSheet = document.styleSheets[si];\n          if (!styleSheet.rules) continue;\n\n          for (var ri = styleSheet.rules.length - 1; ri >= 0; ri--) {\n              if (!styleSheet.rules[ri].selectorText) continue;\n\n              if (styleSheet.rules[ri].selectorText.match(':hover')) {\n                  styleSheet.deleteRule(ri);\n              }\n          }\n      }\n  } catch (ex) {}\n}\n\n\n\n// Your web app's Firebase configuration\nvar firebaseConfig = {\n  apiKey: \"AIzaSyDiGzl-w4zQsJQG9c-7UsL0t9-CF9RnOUE\",\n  authDomain: \"recworld-abde0.firebaseapp.com\",\n  databaseURL: \"https://recworld-abde0.firebaseio.com\",\n  projectId: \"recworld-abde0\",\n  storageBucket: \"recworld-abde0.appspot.com\",\n  messagingSenderId: \"301870437630\",\n  appId: \"1:301870437630:web:c3eb9472d89f2ab1a101af\"\n};\n// Initialize Firebase\nfirebase.initializeApp(firebaseConfig);\n\nclass ThreeJS extends Component {\n  componentDidMount() {\n    // === THREE.JS CODE START ===\n    var rotationmodifier = 0.0001\n    var scene = new THREE.Scene();\n    var camera = new THREE.PerspectiveCamera(\n      50,\n      window.innerWidth / window.innerHeight,\n      0.1,\n      1000\n    );\n\n\n   \n\n    var renderer = new THREE.WebGLRenderer({ alpha: true });\n    renderer.setClearColor(0xffffff, 0);\n    renderer.shadowMap.enabled = true;\n    renderer.shadowMapSoft = true;\n    renderer.shadowMap.type = THREE.PCFSoftShadowMap;\n\n    renderer.setSize(window.innerWidth, window.innerHeight);\n    document.body.appendChild(renderer.domElement);\n    var geometry = new THREE.PlaneGeometry(200, 200, 200);\n    var material = new THREE.ShadowMaterial({\n      color: 0x666666,\n      side: THREE.DoubleSide\n    });\n    material.opacity = 0.2;\n    var plane = new THREE.Mesh(geometry, material);\n    plane.position.z = -5;\n    plane.receiveShadow = true;\n    scene.add(plane);\n\n    camera.position.z = 7.5;\n    var loader = new GLTFLoader();\n\n    var spotLight = new THREE.SpotLight(0xf5f5f5);\n    spotLight.position.set(-0.5, -0.5, 10);\n    spotLight.intensity = 1;\n\n    spotLight.castShadow = true;\n\n    const shadowmapmultiplier = 3;\n\n    spotLight.shadow.mapSize.width = 1024 * 3;\n    spotLight.shadow.mapSize.height = 1024 * 3;\n\n    const d = 10;\n\n    spotLight.shadow.camera.left = -d;\n    spotLight.shadow.camera.right = d;\n    spotLight.shadow.camera.top = d;\n    spotLight.shadow.camera.bottom = -d;\n    spotLight.shadow.radius = 3;\n    scene.add(spotLight);\n\n    var light2 = new THREE.AmbientLight(0xf5f5f5); // soft white light\n    light2.intensity = 0.25;\n    scene.add(light2);\n    camera.add(light2)\n    //scene.environment = new THREE.Color( 0x00ff00)\n\n\n\n    var originalobjectsonlyyrotate = []\n    var originalobjectsfullrotate = []\n\n    var animatableobjectsfullrotate = []\n    var animatableobjectsonlyyrotate = []\n\n    loader.load(\n      scenedata,\n      function(gltf) {\n        console.log('loaded scene')\n        scene.add(gltf.scene);\n\n        scene.traverse (function (object) {\n\n          console.log(object.name)\n        })\n\n        gltf.scene.position.z = -1000\n\n        var cup = scene.getObjectByName(\n          \"cup\"\n        );\n        var chandelier = scene.getObjectByName(\"chandelier\")\n        var candelabra = scene.getObjectByName(\"Circle002\")\n        cup.castShadow = true;\n        chandelier.castShadow = true;\n        candelabra.castShadow = true;\n\n\n//chandelier.material = material\n//venus.material = material\n        //originalobjectsfullrotate.push(venus)\n        originalobjectsfullrotate.push(chandelier)\n        originalobjectsfullrotate.push(chandelier)\n        originalobjectsfullrotate.push(cup)\n        originalobjectsfullrotate.push(cup)\n        originalobjectsfullrotate.push(cup)\n        originalobjectsfullrotate.push(candelabra)\n        originalobjectsfullrotate.push(candelabra)\n        originalobjectsfullrotate.push(candelabra)\n        originalobjectsfullrotate.push(candelabra)\n        originalobjectsfullrotate.push(candelabra)\n\n       // animatableobjects.push(venus)\n      //  animatableobjects.push(chandelier)\n\n        var randompositions = [-3, -3.2, -3.1,3, 3.2, 3.1]\n        var randomypositions = [2, 3, 5]\n\n        var startingpositions = [-5, -7, -9, -11]\n\n        var window_focus = true;\n\nwindow.onblur = function() { window_focus = false; }\nwindow.onfocus = function() { window_focus = true; }\n        //venus.material = new THREE.MeshPhysicalMaterial()\n        startingpositions.forEach(function(yposition) {\n          if (window_focus ) {\n            var object = originalobjectsfullrotate[Math.floor(Math.random()*originalobjectsfullrotate.length)];\n    \n              var objectclone = object.clone()\n              scene.add(objectclone)\n              objectclone.position.x = randompositions[Math.floor(Math.random()*randompositions.length)] * (camera.aspect* 0.96)\n              objectclone.position.y =  yposition\n              animatableobjectsfullrotate.push(objectclone)\n          }\n        }\n        )\n\n\n\n      function createNewFullRotate() {\n    \n\n        function canAdd() {\n          if (animatableobjectsfullrotate.length > 0 ) {\n            if (animatableobjectsfullrotate.slice(-1)[0].position.y > -8) {\n              return true\n            } else {\n              return false\n            }\n          } else {\n            return true\n          }\n        } \n        if (window_focus && canAdd()) {\n        var object = originalobjectsfullrotate[Math.floor(Math.random()*originalobjectsfullrotate.length)];\n\n          var objectclone = object.clone()\n          scene.add(objectclone)\n          objectclone.position.x = randompositions[Math.floor(Math.random()*randompositions.length)] * (camera.aspect)\n          objectclone.position.y =  -8 - randomypositions[Math.floor(Math.random()*randomypositions.length)]\n          animatableobjectsfullrotate.push(objectclone)\n        }\n          setTimeout(createNewFullRotate, 3000);\n        \n      }\n      \n      createNewFullRotate();\n\n      var fullRotate = function() {\n          requestAnimationFrame(fullRotate);\n          //venus.rotation.z += 0.001;\n\n          animatableobjectsfullrotate.forEach(function(object) {\n            \n             object.rotation.y += 0.005 + (rotationmodifier * 0.01)\n             object.rotation.x += 0.001\n             object.position.y += 0.005\n             object.position.x += object.position.x/15000\n\n             if (object.position.y > 10 ) {\n               scene.remove(object)\n             }\n            })\n          renderer.render(scene, camera);\n        };\n        fullRotate();\n      },\n      undefined,\n      function(error) {\n        console.error(error);\n      }\n    );\n      var checkScrollSpeed = (function(settings){\n        settings = settings || {};\n    \n        var lastPos, newPos, timer, delta, \n            delay = settings.delay || 50; // in \"ms\" (higher means lower fidelity )\n    \n        function clear() {\n          lastPos = null;\n          delta = 0;\n        }\n    \n        clear();\n    \n        return function(){\n          newPos = window.scrollY;\n          if ( lastPos != null ){ // && newPos < maxScroll \n            delta = newPos -  lastPos;\n          }\n          lastPos = newPos;\n          clearTimeout(timer);\n          timer = setTimeout(clear, delay);\n          return delta;\n        };\n    })();\n    window.onscroll = function() {scrollCam()};\n\n    function scrollCam() {\n      var winScroll = document.body.scrollTop || document.documentElement.scrollTop;\n      var height = document.documentElement.scrollHeight - document.documentElement.clientHeight;\n      var scrolled = (winScroll / height);\n      camera.position.y = 0 - (5 * scrolled)\n      spotLight.position.y = 0 - (5 * scrolled)\n      rotationmodifier = Math.abs(checkScrollSpeed())\n      //console.log (checkScrollSpeed())\n    }\n\n    var globalResizeTimer = null;\n\n    $(window).resize(function() {\n        if(globalResizeTimer != null) window.clearTimeout(globalResizeTimer);\n        globalResizeTimer = window.setTimeout(function() {\n         camera.aspect = window.innerWidth / window.innerHeight\n         camera.updateProjectionMatrix();\n\n         renderer.setSize( window.innerWidth, window.innerHeight );\n\n        }, 200);\n    });\n\n    var scrollStop = function (callback) {\n\n      // Make sure a valid callback was provided\n      if (!callback || typeof callback !== 'function') return;\n    \n      // Setup scrolling variable\n      var isScrolling;\n    \n      // Listen for scroll events\n      window.addEventListener('scroll', function (event) {\n    \n        // Clear our timeout throughout the scroll\n        window.clearTimeout(isScrolling);\n    \n        // Set a timeout to run after scrolling ends\n        isScrolling = setTimeout(function() {\n    \n          // Run the callback\n          callback();\n    \n        }, 66);\n    \n      }, false);\n    \n    };\n    scrollStop(function () {\n      rotationmodifier = 0;\n  });\n\n\n    // === THREE.JS EXAMPLE CODE END ===\n  }\n  render() {\n    return <div ref={ref => (this.mount = ref)}> </div>;\n  }\n}\n\n//// REG HTML BELOW\n\nvar fbdatabase = firebase.database()\n\n\nclass RecToolBar extends Component {\n  constructor() {\n    super();\n    this.state = {\n    }\n    this.handleChange = this.handleChange.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n  }\n  handleChange(e) {\n\n  }\n\n  handleSubmit(e) {\n\n  }\n\n\n}\n\nclass RecList extends Component {\n  constructor() {\n    super();\n    this.state = {\n      recs: [],\n      currenttitle: \"\"\n    }\n    this.updateRecs = this.updateRecs.bind(this);\n  }\n  updateRecs(recs) {\n    this.setState({\n      recs:recs\n    })\n  }\n  componentDidMount() {\n\n  }\n  \n\n  render() {\n\n    return (\n      <div className=\"reclist\">\n     {this.state.recs.length === 0 ? <div className=\"nothing\"><h1 >Nothing here</h1></div> : ''}\n\n    {this.state.recs.map((rec) => {\n      return (\n        <RecUnit index={rec.index} key={rec.key} fbid={rec.key} type={rec.type} title={rec.title} link={rec.link} description={rec.description}></RecUnit>\n        \n      )\n    })} </div> \n    )\n  }\n}\n\nvar formdata = {\"creator\":\"\",\"description\":\"\",\"rating\":0,\"title\":\"\",\"type\":\"\"}\nvar types = [\"movie\",\"tv show\",\"game\",\"location\",\"spiritual practice\"]\nvar typedict = {\"book\":\"local_library\",\"movie\":\"local_movies\", \"free pdf\": \"description\", \"show\": \"personal_video\", \"art moment\": \"ring_volume\",\"ambient sound\":\"hearing\",\"tweet\": \"subtitles\",\"day bev\": \"trending_up\", \"night bev\": \"trending_down\", \"song\": \"radio\", \"recipe\": \"rowing\" ,\"web vid\": \"memory\", \"fundraiser\": \"extension\" ,\"ritual\":\"brightness_2\" , \"spiritual practice\":\"bubble_chart\", \"furniture\": \"airline_seat_legroom_reduced\", \"spot\": \"terrain\", \"game\": \"healing\", \"personal sex act\":\"waves\", \"whitney h. single\":\"live_help\"}\n\nclass TypeButton extends Component {\n  render()  { return (\n    <div className=\"typebutton\">{this.props.type}</div>\n  )}\n}\n\nclass RadioButtons extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      selectedOption: ''\n    };\n  this.radioChange = this.radioChange.bind(this);\n}\n\n  radioChange(e) {\n    this.setState({\n      selectedOption: e.currentTarget.value\n    });\n  }\n  \n  render() {\n    return (\n      <div className=\"typeselector\">\n        {types.map(typeval => <div className=\"typeradio\"><input id={typeval} checked={this.state.selectedOption === typeval} type=\"radio\" key={typeval} value={typeval} onChange={this.radioChange}/><label for={typeval} class=\"radio\" className=\"button\">{typeval.toUpperCase()}</label></div>)} \n        </div> \n    );\n  }\n}\n\nfunction readdClass(el, classname) {\n  el.removeClass(classname)\n  var newone = el.clone(true);\n  el.before(newone);\n  el.remove()\n}\n\nclass RecUnit extends Component {\n  constructor() {\n    super();\n    this.state = {\n\n    }\n\n    this.like = this.like.bind(this)\n  }\n\n  like(e) {\n\n    if ($(e.target).hasClass('cardtitle')) {\n      return\n    }\n\n    const component = this\n   var element = e.currentTarget\n   $(element).removeClass('cardpressed')\n    void element.offsetWidth;\n    $(element).addClass('cardpressed')\n\n    readdClass($(element).find(\".iloveittext\"), 'iloveittext-pressed')\n    readdClass($(element).find(\".iloveittextbackground\"), 'iloveittextbackround-pressed')\n    var iloveittext = $(element).find(\".iloveittext\")\n    $(iloveittext).removeClass('iloveittext-pressed')\n    void iloveittext.offsetWidth;\n    $(iloveittext).addClass('iloveittext-pressed')\n\n    var iloveittextbackground = $(element).find(\".iloveittextbackground\")\n    $(iloveittextbackground).removeClass('iloveittextbackround-pressed')\n    void iloveittextbackground.offsetWidth;\n    $(iloveittextbackground).addClass('iloveittextbackround-pressed')\n\n    firebase.database().ref('/publicrecs/' + this.props.fbid + '/rating').once('value').then(function(snapshot) {\n  \n      console.log(snapshot.val())\n      var rating = snapshot.val()\n\n      if (component.props.fbid) {\n\n        firebase.database().ref('/publicrecs/' + component.props.fbid).update({'rating':rating + 1})\n\n      }\n\n    })\n\n    //$(element).find(\".iloveittext\").addClass('iloveittext-pressed')\n    //$(element).find(\".iloveittextbackground\").addClass('iloveittextbackround-pressed')\n\n  }\n\n  render() {\n\n     const hrefattr = this.props.link ? {href:this.props.link} : {}\n    return (\n      <div className=\"card\" onClick={this.like}><div className=\"row\">\n\n        <div className=\"col-sm-8\">\n        <h1><a className=\"cardtitle\" {...hrefattr}>{this.props.title}</a></h1>\n        <h2 className=\"subtitle\"><span className=\"material-icons\">{typedict[this.props.type]}</span>{this.props.type}</h2></div>\n        </div>\n        \n<div className=\"row\">\n        <p>{this.props.description}</p></div>\n        <div className=\"iloveittext\">i love it!</div>\n        <div className=\"iloveittextbackground\"></div>\n        {(this.props.index ? <div className=\"indexwrapper\"><div className=\"indexdiv\">{this.props.index}</div></div>:<div></div> )}\n      </div>\n    );\n  }\n}\n\nclass Form extends Component {\n  constructor() {\n    super();\n    this.state = {\n      title: '',\n      link: '',\n      linkvalid: true,\n      type: '',\n      description: '',\n      buttonColor: \"lightgray\",\n    }\n    this.handleChange = this.handleChange.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n    this.radioChange = this.radioChange.bind(this);\n    this.checkLink = this.checkLink.bind(this);\n    this.handleCancel = this.handleCancel.bind(this);\n\n\n  }\n\n  radioChange(e) {\n    this.setState({\n      type: e.currentTarget.value\n    });\n  }\n\n  checkLink(e) {\n\n  }\n\n  handleChange(e) {\n\n    this.setState({\n      [e.target.name]: e.target.value\n    });\n\n    if (e.target.name == \"link\" && e.target.value !== '') {\n      if (validate(e.target.value)) {\n        console.log(this.linkvalid)\n        this.setState({\n          linkvalid:true\n        });\n      } else {\n        this.setState({\n          linkvalid:false\n        });\n        console.log(this.linkvalid)\n      }\n    } else if (e.target.name == \"link\" && e.target.value === '') {\n      this.setState({\n        linkvalid:true\n      });\n    }\n\n  }\n\n  handleSubmit(e) {\n    e.preventDefault();\n\n      const itemsRef = firebase.database().ref('publicrecs');\n      const item = {\n        title: this.state.title,\n        link: (this.state.linkvalid ? this.state.link : ''),\n        creator: \"\",\n        rating: 0,\n        description: this.state.description,\n        type: this.state.type\n      }\n      itemsRef.push(item);\n      this.setState({\n        title: '',\n        link: '',\n        description:'',\n      type:''     \n     });\n    \n    this.props.addModalSuccess()\n    this.props.getCurrentRecs()\n  }\n\n  handleCancel(e) {\n    e.preventDefault();\n\n    this.setState({\n      title: '',\n      link: '',\n      description:'',\n    type:''     \n   });\n\n   this.props.addModalHide()\n\n  }\n\n  render() {\n    return (\n      <div>\n      <section className=\"add-item\">\n  <form>\n    <h2>NAME</h2>\n    <span><input type=\"text\" name=\"title\" placeholder=\"title\" onChange={this.handleChange} value={this.state.title} /></span>\n    <h2>LINK?    <span style={{ color: this.state.linkvalid ? 'white': 'lightgray'}}>   THIS LINK WON't WORK, but that's ok.</span></h2>\n    <input className=\"linkinput\"  type=\"text\" name=\"link\" placeholder=\"link\" onChange={this.handleChange} value={this.state.link} />\n    <div className=\"typeselector\">\n        {Object.keys(typedict).map(typeval => <div className=\"typeradio\"><input id={typeval} checked={this.state.type === typeval} type=\"radio\" key={typeval} value={typeval} onChange={this.radioChange.bind(this)}/><label for={typeval} class=\"radio\" className=\"button\"><span className='material-icons'>{typedict[typeval]}</span> {typeval.toUpperCase()}</label></div>)} \n        </div> \n        <h2>WHAT'S THE DEAL</h2>\n    <textarea name=\"description\" onChange={this.handleChange} value={this.state.description} />\n          <div className=\"modalbuttons\">\n      <button onClick={this.handleCancel} key=\"cancel button\" className=\"cancelbutton\">cancel</button>\n      <button onClick={this.handleSubmit} className={\"submitbutton \" + (this.state.title.trim() && this.state.type.trim() && this.state.description.trim() ? 'submitshake' : '')}>REC.</button></div>\n  </form>\n  \n</section> </div>\n    )\n  }\n}\n\n\nclass App extends Component {\n  constructor(props) {\n    super();\n    this.state = {\n      currentuser: \"\",\n      loggedin: false,\n      currentrecs: [],\n      rodaldialogstate:'',\n      rodalmaskstate:'',\n      filterset:'all',\n      currentupdatemethod: 'new',\n      filtertoolbaropen: false\n      \n    }\n    this.recList = React.createRef()\n    this.stepWizard = React.createRef()\n    this.getCurrentRecs = this.getCurrentRecs.bind(this)\n    this.getTrendingRecs = this.getTrendingRecs.bind(this)\n    this.addModalShow = this.addModalShow.bind(this)\n\n  }\n  componentDidMount() {\n    this.getCurrentRecs('all')\n  }\n\n  filterToolbarShow() {\n    this.setState({\n      filtertoolbaropen:true\n    })\n  }\n  filterToolbarClose() {\n    this.setState({\n      filtertoolbaropen:false\n    })\n  }\n\n  addModalShow() {\n    var el = $('.backgroundtext')\n    el.removeClass('flicker')\n    var newone = el.clone(true);\n    el.text(\"What's your rec?\")\n    el.before(newone);\n    el.remove()\n\n    this.setState({\n      rodaldialogstate:'rodal-appear',\n      rodalmaskstate:'rodalmask-appear'\n    })\n\n\n    $('.backgroundtext').text(\"What's your rec?\")\n    $('.backgroundtext').addClass('flicker')\n\n  }\n\n  addModalHide() {\n\n    this.setState({\n      rodaldialogstate:'rodal-cancel',\n      rodalmaskstate:'rodalmask-disappear'\n    })\n\n    // $('.rodal-mask').removeClass('rodalmask-appear')\n    // $('.rodal-mask').addClass('rodalmask-disappear')\n    // $('.rodal-dialog').removeClass('rodal-appear')\n    // $('.rodal-dialog').addClass('rodal-cancel')\n\n  }\n\n  addModalSuccess() {\n    var el = $('.backgroundtext')\n    el.removeClass('flicker')\n    var newone = el.clone(true);\n    el.text('Thank you!')\n    el.before(newone);\n    el.remove()\n\n\n    $('.backgroundtext').text('Thank you!')\n    $('.backgroundtext').addClass('flickeronce')\n\n    this.setState({\n      rodaldialogstate:'rodal-disappear',\n      rodalmaskstate:'rodalmask-disappear'\n    })\n\n    // $('.rodal-mask').removeClass('rodalmask-appear')\n    // $('.rodal-mask').addClass('rodalmask-disappear')\n    // $('.rodal-dialog').removeClass('rodal-appear')\n    // $('.rodal-dialog').addClass('rodal-disappear')\n\n  }\n\n  setButtonState(selectedbutton) {\n    $(\".toolbarbutton\").removeClass('selected')\n    $(selectedbutton).addClass('selected')\n  }\n\n  filterChange(e) {\n\n    var targetval = e.currentTarget.value\n\n    this.setState({\n      filtertoolbaropen:false,\n      filterset: targetval\n    }, function() {\n    \n        if (this.state.currentupdatemethod == 'new') {\n          this.getCurrentRecs()\n        } else if (this.state.currentupdatemethod == 'trending') {\n          this.getTrendingRecs()\n        }\n        this.setState({\n          filtertoolbaropen:false,\n        })\n    });\n  }\n\n  getTrendingRecs() {\n    this.setButtonState($(\".trendingbutton\"))\n    this.setState({\n      currentupdatemethod: 'trending'\n    })\n\n    var component = this \n    var filterset = component.state.filterset\n\n    if (filterset == 'all') {\n\n      firebase.database().ref('/publicrecs/').orderByChild('rating').limitToLast(100).once('value').then(function(snapshot) {\n        console.log(snapshot)\n    \n        var reclist = []\n    \n        snapshot.forEach(function(childSnapshot) {\n          var childKey = childSnapshot.key;\n          console.log(childKey)\n          var childData = childSnapshot.val();\n          console.log(childData)\n          childData['key'] = childKey\n\n          reclist.push(childData)\n        });\n\n        reclist.reverse()\n\n        var index = 1\n\n        reclist.forEach(function(rec){\n          rec['index'] = index \n          index +=1\n        })\n\n\n        component.recList.current.setState({recs:reclist})\n\n        $(\"html, body\").animate({\n          scrollTop: 0\n      }, 100);\n      })\n  } else {\n    firebase.database().ref('/publicrecs/').orderByChild('type').equalTo(filterset).limitToLast(100).once('value').then(function(snapshot) {\n\n  \n      var reclist = []\n  \n      snapshot.forEach(function(childSnapshot) {\n        var childKey = childSnapshot.key;\n        console.log(childKey)\n        var childData = childSnapshot.val();\n        console.log(childData)\n        childData['key'] = childKey\n        reclist.push(childData)\n      });\n\n      reclist.sort(function(first, second) {\n        return second['rating'] - first['rating'];\n      });      \n      console.log(reclist)\n\n      var index = 1\n\n      reclist.forEach(function(rec){\n        rec['index'] = index \n        index +=1\n      })\n\n\n      component.recList.current.setState({recs:reclist})\n\n      $(\"html, body\").animate({\n        scrollTop: 0\n    }, 100);\n    })\n  }\n  }\n  \n  getCurrentRecs() {\n\n    this.setButtonState($(\".newbutton\"))\n    var component = this \n\n    component.setState({\n      currentupdatemethod: 'new'\n    })\n\n    var filterset = component.state.filterset\n\n    if (filterset == 'all') {\n\n      firebase.database().ref('/publicrecs/').limitToLast(100).once('value').then(function(snapshot) {\n        console.log(snapshot)\n    \n        var reclist = []\n    \n        snapshot.forEach(function(childSnapshot) {\n          var childKey = childSnapshot.key;\n          console.log(childKey)\n          var childData = childSnapshot.val();\n          console.log(childData)\n          // ...\n          childData['key'] = childKey\n          reclist.push(childData)\n        });\n\n        reclist.reverse()\n        component.recList.current.setState({recs:reclist})\n\n        $(\"html, body\").animate({\n          scrollTop: 0\n      }, 100);\n      })\n    } else {\n\n      firebase.database().ref('/publicrecs/').orderByChild('type').equalTo(filterset).limitToLast(100).once('value').then(function(snapshot) {\n        console.log(snapshot)\n    \n        var reclist = []\n    \n        snapshot.forEach(function(childSnapshot) {\n          var childKey = childSnapshot.key;\n          console.log(childKey)\n          var childData = childSnapshot.val();\n          console.log(childData)\n          // ...\n          childData['key'] = childKey\n          reclist.push(childData)\n        });\n\n        reclist.reverse()\n        component.recList.current.setState({recs:reclist})\n\n        $(\"html, body\").animate({\n          scrollTop: 0\n      }, 100);\n      })\n\n    }\n  }\n\n  toggleFilterToobar() {\n    var toolbarval = !this.state.filtertoolbaropen\n    this.setState({\n      filtertoolbaropen: toolbarval\n    })\n  }\n\n  \n\n  render() {\n\n    return(\n    <div>            <div className=\"backgroundtext\">WHAT'S YOUR REC?</div>\n    <div class=\"title\"><h1>REC WORLD</h1>\n        <div className=\"toolbar\">\n      <button className=\"toolbarbutton newbutton\" onClick={this.getCurrentRecs}><span className=\"material-icons\">line_weight</span>new</button>\n      <button className=\"toolbarbutton trendingbutton\" onClick={this.getTrendingRecs}><span className=\"material-icons\">equalizer</span>LOVED</button>\n    <button onClick={this.toggleFilterToobar.bind(this)} onMouseOver={this.filterToolbarShow.bind(this)} onMouseOut={this.filterToolbarClose.bind(this)} className={\"toolbarbutton filterbutton \" + (this.state.filterset !== 'all' ? 'filterbuttonselected':'')}  ><span className=\"material-icons\">line_style</span>filter{this.state.filterset !== 'all' && window.innerWidth > 430 ? \": \" + this.state.filterset  : ''}</button>\n        </div>\n    <div onMouseOver={this.filterToolbarShow.bind(this)} onMouseOut={this.filterToolbarClose.bind(this)} className={\"filterselector \" + (this.state.filtertoolbaropen ? 'filterhover':'')} >\n    <button value=\"all\" onClick={this.filterChange.bind(this)} className={(this.state.filterset === 'all' ? 'clearbuttonall':'')}>ALL</button>{Object.keys(typedict).map(typeval => <div className=\"typeradio\"><button className={(this.state.filterset === typeval ? 'clearbutton':'')} id={typeval+\"filterbutton\"} key={typeval + \"filterbutton\"} value={typeval} onClick={this.filterChange.bind(this)}><span className='material-icons'>{typedict[typeval]}</span> {typeval.toUpperCase()}</button></div>)} \n        </div>\n\n <div className=\"filterbuffer\"></div>\n        </div>\n    \n    <div class=\"title hidden\"><h1>REC WORLD</h1></div>\n    <div className=\"title\">\n      <div className=\"container\">\n        \n      </div>\n    </div>\n    <div>\n     <RecList ref={this.recList} />  \n      <div className=\"threejs\">\n        <ThreeJS />\n      </div>\n    </div>\n    <div className=\"addform\">\n    <div className={\"rodal-mask \" + this.state.rodalmaskstate} onClick={this.addModalHide.bind(this)}></div>\n    <div className={\"rodal-dialog \" + this.state.rodaldialogstate}>    \n      <Form addModalHide={this.addModalHide.bind(this)} addModalSuccess={this.addModalSuccess.bind(this)} getCurrentRecs={this.getCurrentRecs.bind(this)}/>\n\n</div>\n      \n</div>\n<button className=\"addbutton\" onClick={this.addModalShow}><div className=\"addbuttontext\">+</div></button>\n  </div>\n  )}\n}\n\nconst rootElement = document.getElementById(\"root\");\nReactDOM.render(\n<App/>,\n  rootElement\n);\n\n\nfunction validate(url) {\n  var pattern = /(ftp|http|https):\\/\\/(\\w+:{0,1}\\w*@)?(\\S+)(:[0-9]+)?(\\/|\\/([\\w#!:.?+=&%@!\\-\\/]))?/;\n  if (pattern.test(url)) {\n    console.log('linkvalid')\n      return true;\n  } \n  console.log('link not valid')\n      return false;\n\n}"],"sourceRoot":""}