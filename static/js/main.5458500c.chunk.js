(this.webpackJsonprecworld=this.webpackJsonprecworld||[]).push([[0],{24:function(e,t,a){e.exports=a.p+"static/media/venus.19786740.glb"},25:function(e,t,a){e.exports=a(26)},26:function(e,t,a){"use strict";a.r(t);var n=a(4),i=a(6),o=a(10),r=a(13),s=a(11),l=a(12),c=a(2),d=a.n(c),u=a(21),h=a.n(u),m=a(1),p=a(22),v=a(15),b=a.n(v),f=a(5),g=a.n(f),k=(a(41),a(44),a(45),a(24)),w=a.n(k);if("ontouchstart"in document.documentElement||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0)try{for(var y in document.styleSheets){var E=document.styleSheets[y];if(E.rules)for(var C=E.rules.length-1;C>=0;C--)E.rules[C].selectorText&&E.rules[C].selectorText.match(":hover")&&E.deleteRule(C)}}catch(W){}b.a.initializeApp({apiKey:"AIzaSyDiGzl-w4zQsJQG9c-7UsL0t9-CF9RnOUE",authDomain:"recworld-abde0.firebaseapp.com",databaseURL:"https://recworld-abde0.firebaseio.com",projectId:"recworld-abde0",storageBucket:"recworld-abde0.appspot.com",messagingSenderId:"301870437630",appId:"1:301870437630:web:c3eb9472d89f2ab1a101af"});var x=function(e){Object(l.a)(a,e);var t=Object(s.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(r.a)(a,[{key:"componentDidMount",value:function(){var e=1e-4,t=new m.ab,a=new m.Q(50,window.innerWidth/window.innerHeight,.1,1e3),n=new m.nb({alpha:!0});n.setClearColor(16777215,0),n.shadowMap.enabled=!0,n.shadowMapSoft=!0,n.shadowMap.type=m.P,n.setSize(window.innerWidth,window.innerHeight),document.body.appendChild(n.domElement);var i=new m.R(200,200,200),o=new m.bb({color:6710886,side:m.j});o.opacity=.2;var r=new m.E(i,o);r.position.z=-5,r.receiveShadow=!0,t.add(r),a.position.z=7.5;var s=new p.a,l=new m.fb(16119285);l.position.set(-.5,-.5,10),l.intensity=1,l.castShadow=!0;l.shadow.mapSize.width=3072,l.shadow.mapSize.height=3072;l.shadow.camera.left=-10,l.shadow.camera.right=10,l.shadow.camera.top=10,l.shadow.camera.bottom=-10,l.shadow.radius=3,t.add(l);var c=new m.a(16119285);c.intensity=.25,t.add(c),a.add(c);var d=[],u=[];s.load(w.a,(function(i){console.log("loaded scene"),t.add(i.scene),t.traverse((function(e){console.log(e.name)})),i.scene.position.z=-1e3;var o=t.getObjectByName("cup"),r=t.getObjectByName("chandelier"),s=t.getObjectByName("Circle002");o.castShadow=!0,r.castShadow=!0,s.castShadow=!0,d.push(r),d.push(r),d.push(o),d.push(o),d.push(o),d.push(s),d.push(s),d.push(s),d.push(s),d.push(s);var l=[-3,-3.2,-3.1,3,3.2,3.1],c=[2,3,5],h=!0;window.onblur=function(){h=!1},window.onfocus=function(){h=!0},[-5,-7,-9,-11].forEach((function(e){if(h){var n=d[Math.floor(Math.random()*d.length)].clone();t.add(n),n.position.x=l[Math.floor(Math.random()*l.length)]*(.96*a.aspect),n.position.y=e,u.push(n)}})),function e(){if(h&&(!(u.length>0)||u.slice(-1)[0].position.y>-8)){var n=d[Math.floor(Math.random()*d.length)].clone();t.add(n),n.position.x=l[Math.floor(Math.random()*l.length)]*a.aspect,n.position.y=-8-c[Math.floor(Math.random()*c.length)],u.push(n)}setTimeout(e,3e3)}();!function i(){requestAnimationFrame(i),u.forEach((function(a){a.rotation.y+=.005+.01*e,a.rotation.x+=.001,a.position.y+=.005,a.position.x+=a.position.x/15e3,a.position.y>10&&t.remove(a)})),n.render(t,a)}()}),void 0,(function(e){console.error(e)}));var h=function(e){var t,a,n,i,o=(e=e||{}).delay||50;function r(){t=null,i=0}return r(),function(){return a=window.scrollY,null!=t&&(i=a-t),t=a,clearTimeout(n),n=setTimeout(r,o),i}}();window.onscroll=function(){!function(){var t=document.body.scrollTop||document.documentElement.scrollTop,n=document.documentElement.scrollHeight-document.documentElement.clientHeight,i=t/n;a.position.y=0-5*i,l.position.y=0-5*i,e=Math.abs(h())}()};var v=null;g()(window).resize((function(){null!=v&&window.clearTimeout(v),v=window.setTimeout((function(){a.aspect=window.innerWidth/window.innerHeight,a.updateProjectionMatrix(),n.setSize(window.innerWidth,window.innerHeight)}),200)}));!function(e){var t;e&&"function"===typeof e&&window.addEventListener("scroll",(function(a){window.clearTimeout(t),t=setTimeout((function(){e()}),66)}),!1)}((function(){e=0}))}},{key:"render",value:function(){var e=this;return d.a.createElement("div",{ref:function(t){return e.mount=t}}," ")}}]),a}(c.Component),S=(b.a.database(),c.Component,function(e){Object(l.a)(a,e);var t=Object(s.a)(a);function a(){var e;return Object(o.a)(this,a),(e=t.call(this)).state={recs:[],currenttitle:""},e.updateRecs=e.updateRecs.bind(Object(i.a)(e)),e}return Object(r.a)(a,[{key:"updateRecs",value:function(e){this.setState({recs:e})}},{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return d.a.createElement("div",{className:"reclist"},this.state.recs.map((function(e){return d.a.createElement(M,{index:e.index,key:e.key,fbid:e.key,type:e.type,title:e.title,link:e.link,description:e.description})}))," ")}}]),a}(c.Component)),O=["movie","tv show","game","location","spiritual practice"],N={book:"local_library",movie:"local_movies","free pdf":"description",show:"personal_video","art moment":"ring_volume",song:"hearing",tweet:"subtitles","day bev":"trending_up","night bev":"trending_down",recipe:"rowing","web vid":"memory",fundraiser:"extension",ritual:"brightness_2","spiritual practice":"bubble_chart",furniture:"airline_seat_legroom_reduced",spot:"terrain",game:"healing","personal sex act":"waves","whitney h. single":"live_help"};c.Component,d.a.Component;function j(e,t){e.removeClass(t);var a=e.clone(!0);e.before(a),e.remove()}var M=function(e){Object(l.a)(a,e);var t=Object(s.a)(a);function a(){var e;return Object(o.a)(this,a),(e=t.call(this)).state={},e.like=e.like.bind(Object(i.a)(e)),e}return Object(r.a)(a,[{key:"like",value:function(e){var t=this,a=e.currentTarget;g()(a).removeClass("cardpressed"),a.offsetWidth,g()(a).addClass("cardpressed"),j(g()(a).find(".iloveittext"),"iloveittext-pressed"),j(g()(a).find(".iloveittextbackground"),"iloveittextbackround-pressed");var n=g()(a).find(".iloveittext");g()(n).removeClass("iloveittext-pressed"),n.offsetWidth,g()(n).addClass("iloveittext-pressed");var i=g()(a).find(".iloveittextbackground");g()(i).removeClass("iloveittextbackround-pressed"),i.offsetWidth,g()(i).addClass("iloveittextbackround-pressed"),b.a.database().ref("/publicrecs/"+this.props.fbid+"/rating").once("value").then((function(e){console.log(e.val());var a=e.val();t.props.fbid&&b.a.database().ref("/publicrecs/"+t.props.fbid).update({rating:a+1})}))}},{key:"render",value:function(){var e=this.props.link?{href:this.props.link}:{};return d.a.createElement("div",{className:"card",onClick:this.like},d.a.createElement("div",{className:"row"},d.a.createElement("div",{className:"col-sm-8"},d.a.createElement("h1",null,d.a.createElement("a",e,this.props.title)),d.a.createElement("h2",{className:"subtitle"},d.a.createElement("span",{className:"material-icons"},N[this.props.type]),this.props.type))),d.a.createElement("div",{className:"row"},d.a.createElement("p",null,this.props.description)),d.a.createElement("div",{className:"iloveittext"},"i love it!"),d.a.createElement("div",{className:"iloveittextbackground"}),this.props.index?d.a.createElement("div",{className:"indexdiv"},this.props.index):d.a.createElement("div",null))}}]),a}(c.Component),R=function(e){Object(l.a)(a,e);var t=Object(s.a)(a);function a(){var e;return Object(o.a)(this,a),(e=t.call(this)).state={title:"",link:"",linkvalid:!0,type:"",description:"",buttonColor:"lightgray"},e.handleChange=e.handleChange.bind(Object(i.a)(e)),e.handleSubmit=e.handleSubmit.bind(Object(i.a)(e)),e.radioChange=e.radioChange.bind(Object(i.a)(e)),e.checkLink=e.checkLink.bind(Object(i.a)(e)),e.handleCancel=e.handleCancel.bind(Object(i.a)(e)),e}return Object(r.a)(a,[{key:"radioChange",value:function(e){this.setState({type:e.currentTarget.value})}},{key:"checkLink",value:function(e){}},{key:"handleChange",value:function(e){this.setState(Object(n.a)({},e.target.name,e.target.value)),"link"==e.target.name&&""!==e.target.value?!function(e){if(/(ftp|http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?/.test(e))return console.log("linkvalid"),!0;return console.log("link not valid"),!1}(e.target.value)?(this.setState({linkvalid:!1}),console.log(this.linkvalid)):(console.log(this.linkvalid),this.setState({linkvalid:!0})):"link"==e.target.name&&""===e.target.value&&this.setState({linkvalid:!0})}},{key:"handleSubmit",value:function(e){e.preventDefault();var t=b.a.database().ref("publicrecs"),a={title:this.state.title,link:this.state.linkvalid?this.state.link:"",creator:"",rating:0,description:this.state.description,type:this.state.type};t.push(a),this.setState({title:"",link:"",description:"",type:""}),this.props.addModalSuccess(),this.props.getCurrentRecs()}},{key:"handleCancel",value:function(e){e.preventDefault(),this.setState({title:"",link:"",description:"",type:""}),this.props.addModalHide()}},{key:"render",value:function(){var e=this;return d.a.createElement("div",null,d.a.createElement("section",{className:"add-item"},d.a.createElement("form",null,d.a.createElement("h2",null,"NAME"),d.a.createElement("span",null,d.a.createElement("input",{type:"text",name:"title",placeholder:"title",onChange:this.handleChange,value:this.state.title})),d.a.createElement("h2",null,"LINK?    ",d.a.createElement("span",{style:{color:this.state.linkvalid?"white":"lightgray"}},"   THIS LINK WON't WORK, but that's ok.")),d.a.createElement("input",{className:"linkinput",type:"text",name:"link",placeholder:"link",onChange:this.handleChange,value:this.state.link}),d.a.createElement("div",{className:"typeselector"},Object.keys(N).map((function(t){return d.a.createElement("div",{className:"typeradio"},d.a.createElement("input",{id:t,checked:e.state.type===t,type:"radio",key:t,value:t,onChange:e.radioChange.bind(e)}),d.a.createElement("label",{for:t,class:"radio",className:"button"},d.a.createElement("span",{className:"material-icons"},N[t])," ",t.toUpperCase()))}))),d.a.createElement("h2",null,"WHAT'S THE DEAL"),d.a.createElement("textarea",{name:"description",onChange:this.handleChange,value:this.state.description}),d.a.createElement("div",{className:"modalbuttons"},d.a.createElement("button",{onClick:this.handleCancel,key:"cancel button",className:"cancelbutton"},"cancel"),d.a.createElement("button",{onClick:this.handleSubmit,className:"submitbutton "+(this.state.title.trim()&&this.state.type.trim()&&this.state.description.trim()?"submitshake":"")},"REC."))))," ")}}]),a}(c.Component),T=function(e){Object(l.a)(a,e);var t=Object(s.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this)).state={currentuser:"",loggedin:!1,currentrecs:[],rodaldialogstate:"",rodalmaskstate:""},n.recList=d.a.createRef(),n.stepWizard=d.a.createRef(),n.getCurrentRecs=n.getCurrentRecs.bind(Object(i.a)(n)),n.getTrendingRecs=n.getTrendingRecs.bind(Object(i.a)(n)),n.addModalShow=n.addModalShow.bind(Object(i.a)(n)),n}return Object(r.a)(a,[{key:"componentDidMount",value:function(){this.getCurrentRecs()}},{key:"addModalShow",value:function(){var e=g()(".backgroundtext");e.removeClass("flicker");var t=e.clone(!0);e.text("What's your rec?"),e.before(t),e.remove(),this.setState({rodaldialogstate:"rodal-appear",rodalmaskstate:"rodalmask-appear"}),g()(".backgroundtext").text("What's your rec?"),g()(".backgroundtext").addClass("flicker")}},{key:"addModalHide",value:function(){this.setState({rodaldialogstate:"rodal-cancel",rodalmaskstate:"rodalmask-disappear"})}},{key:"addModalSuccess",value:function(){var e=g()(".backgroundtext");e.removeClass("flicker");var t=e.clone(!0);e.text("Thank you!"),e.before(t),e.remove(),g()(".backgroundtext").text("Thank you!"),g()(".backgroundtext").addClass("flickeronce"),this.setState({rodaldialogstate:"rodal-disappear",rodalmaskstate:"rodalmask-disappear"})}},{key:"setButtonState",value:function(e){g()(".toolbarbutton").removeClass("selected"),g()(e).addClass("selected")}},{key:"getTrendingRecs",value:function(){this.setButtonState(g()(".trendingbutton"));var e=this;b.a.database().ref("/publicrecs/").orderByChild("rating").limitToLast(100).once("value").then((function(t){console.log(t);var a=[];t.forEach((function(e){var t=e.key;console.log(t);var n=e.val();console.log(n),a.push(n)})),a.reverse();var n=1;a.forEach((function(e){e.index=n,n+=1})),e.recList.current.setState({recs:a}),g()("html, body").animate({scrollTop:0},100)}))}},{key:"getCurrentRecs",value:function(){this.setButtonState(g()(".newbutton"));var e=this;b.a.database().ref("/publicrecs/").limitToLast(50).once("value").then((function(t){console.log(t);var a=[];t.forEach((function(e){var t=e.key;console.log(t);var n=e.val();console.log(n),n.key=t,a.push(n)})),a.reverse(),e.recList.current.setState({recs:a}),g()("html, body").animate({scrollTop:0},100)}))}},{key:"render",value:function(){return d.a.createElement("div",null,"            ",d.a.createElement("div",{className:"backgroundtext"},"WHAT'S YOUR REC?"),d.a.createElement("div",{class:"title"},d.a.createElement("h1",null,"REC WORLD"),d.a.createElement("div",{className:"toolbar"},d.a.createElement("button",{className:"toolbarbutton newbutton",onClick:this.getCurrentRecs},d.a.createElement("span",{className:"material-icons"},"line_weight"),"new"),d.a.createElement("button",{className:"toolbarbutton trendingbutton",onClick:this.getTrendingRecs},d.a.createElement("span",{className:"material-icons"},"equalizer"),"LOVED"))),d.a.createElement("div",{class:"title hidden"},d.a.createElement("h1",null,"REC WORLD")),d.a.createElement("div",{className:"title"},d.a.createElement("div",{className:"container"})),d.a.createElement("div",null,d.a.createElement(S,{ref:this.recList}),d.a.createElement("div",{className:"threejs"},d.a.createElement(x,null))),d.a.createElement("div",{className:"addform"},d.a.createElement("div",{className:"rodal-mask "+this.state.rodalmaskstate,onClick:this.addModalHide.bind(this)}),d.a.createElement("div",{className:"rodal-dialog "+this.state.rodaldialogstate},d.a.createElement(R,{addModalHide:this.addModalHide.bind(this),addModalSuccess:this.addModalSuccess.bind(this),getCurrentRecs:this.getCurrentRecs.bind(this)}))),d.a.createElement("button",{className:"addbutton",onClick:this.addModalShow},d.a.createElement("div",{className:"addbuttontext"},"+")))}}]),a}(c.Component),L=document.getElementById("root");h.a.render(d.a.createElement(T,null),L)},45:function(e,t,a){}},[[25,1,2]]]);
//# sourceMappingURL=main.5458500c.chunk.js.map