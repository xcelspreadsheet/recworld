(this.webpackJsonprecworld=this.webpackJsonprecworld||[]).push([[0],{25:function(e,t,a){e.exports=a.p+"static/media/venus.f6ef71ab.glb"},26:function(e,t,a){e.exports=a(27)},27:function(e,t,a){"use strict";a.r(t);var n=a(4),i=a(6),o=a(9),r=a(12),l=a(10),c=a(11),s=a(2),d=a.n(s),u=a(21),h=a.n(u),m=a(1),p=a(22),b=a(16),v=a.n(b),f=a(14),w=a.n(f),g=a(23),y=(a(44),a(45),a(46),a(25)),k=a.n(y);v.a.initializeApp({apiKey:"AIzaSyDiGzl-w4zQsJQG9c-7UsL0t9-CF9RnOUE",authDomain:"recworld-abde0.firebaseapp.com",databaseURL:"https://recworld-abde0.firebaseio.com",projectId:"recworld-abde0",storageBucket:"recworld-abde0.appspot.com",messagingSenderId:"301870437630",appId:"1:301870437630:web:c3eb9472d89f2ab1a101af"});var E=function(e){Object(c.a)(a,e);var t=Object(l.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(r.a)(a,[{key:"componentDidMount",value:function(){var e=1e-4,t=new m.ab,a=new m.Q(50,window.innerWidth/window.innerHeight,.1,1e3),n=new m.nb({alpha:!0});n.setClearColor(16777215,0),n.shadowMap.enabled=!0,n.shadowMapSoft=!0,n.shadowMap.type=m.P,n.setSize(window.innerWidth,window.innerHeight),document.body.appendChild(n.domElement);var i=new m.R(200,200,200),o=new m.bb({color:6710886,side:m.j});o.opacity=.2;var r=new m.E(i,o);r.position.z=-5,r.receiveShadow=!0,t.add(r),a.position.z=7.5;var l=new p.a,c=new m.fb(16119285);c.position.set(-.5,-.5,10),c.intensity=1,c.castShadow=!0;c.shadow.mapSize.width=3072,c.shadow.mapSize.height=3072;c.shadow.camera.left=-10,c.shadow.camera.right=10,c.shadow.camera.top=10,c.shadow.camera.bottom=-10,c.shadow.radius=3,t.add(c);var s=new m.a(16119285);s.intensity=.25,t.add(s),a.add(s);var d=[],u=[],h=[];l.load(k.a,(function(i){console.log("loaded scene"),t.add(i.scene),t.traverse((function(e){console.log(e.name)})),i.scene.position.z=-1e3;var o=t.getObjectByName("venus"),r=t.getObjectByName("chandelier"),l=t.getObjectByName("Circle002");o.castShadow=!0,r.castShadow=!0,l.castShadow=!0,d.push(o),u.push(r),u.push(l);var c=[-3,-3.2,-3.1,3,3.2,3.1],s=[2,3,5],m=!0;window.onblur=function(){m=!1},window.onfocus=function(){m=!0},function e(){if(m&&(!(h.length>0)||h.slice(-1)[0].position.y>-8)){var a=u[Math.floor(Math.random()*u.length)].clone();t.add(a),a.position.x=c[Math.floor(Math.random()*c.length)],a.position.y=-8-s[Math.floor(Math.random()*s.length)],h.push(a)}setTimeout(e,3e3)}();!function i(){requestAnimationFrame(i),h.forEach((function(a){a.rotation.y+=.005+.01*e,a.rotation.x+=.001,a.position.y+=.005,a.position.x+=a.position.x/15e3,a.position.y>10&&t.remove(a)})),n.render(t,a)}()}),void 0,(function(e){console.error(e)}));var b=function(e){var t,a,n,i,o=(e=e||{}).delay||50;function r(){t=null,i=0}return r(),function(){return a=window.scrollY,null!=t&&(i=a-t),t=a,clearTimeout(n),n=setTimeout(r,o),i}}();window.onscroll=function(){!function(){var t=document.body.scrollTop||document.documentElement.scrollTop,n=document.documentElement.scrollHeight-document.documentElement.clientHeight,i=t/n;a.position.y=0-5*i,c.position.y=0-5*i,e=Math.abs(b())}()};var v=null;w()(window).resize((function(){null!=v&&window.clearTimeout(v),v=window.setTimeout((function(){a.aspect=window.innerWidth/window.innerHeight,a.updateProjectionMatrix(),n.setSize(window.innerWidth,window.innerHeight)}),200)}));!function(e){var t;e&&"function"===typeof e&&window.addEventListener("scroll",(function(a){window.clearTimeout(t),t=setTimeout((function(){e()}),66)}),!1)}((function(){e=0}))}},{key:"render",value:function(){var e=this;return d.a.createElement("div",{ref:function(t){return e.mount=t}}," ")}}]),a}(s.Component),C=(v.a.database(),s.Component,function(e){Object(c.a)(a,e);var t=Object(l.a)(a);function a(){var e;return Object(o.a)(this,a),(e=t.call(this)).state={recs:[],currenttitle:""},e.updateRecs=e.updateRecs.bind(Object(i.a)(e)),e}return Object(r.a)(a,[{key:"updateRecs",value:function(e){this.setState({recs:e})}},{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return d.a.createElement("div",{className:"reclist"},this.state.recs.map((function(e){return d.a.createElement(j,{type:e.type,title:e.title,link:e.link,description:e.description})}))," ")}}]),a}(s.Component)),S=["movie","tv show","game","location","spiritual practice"],j=(s.Component,d.a.Component,function(e){Object(c.a)(a,e);var t=Object(l.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(r.a)(a,[{key:"render",value:function(){return d.a.createElement("div",{className:"card"},d.a.createElement("div",{className:"row"},d.a.createElement("div",{className:"col-sm-8"},d.a.createElement("h1",null,d.a.createElement("a",{href:this.props.link},this.props.title)),d.a.createElement("p",{className:"subtitle"},d.a.createElement("h2",null,this.props.type))),d.a.createElement("div",{className:"col-sm-4"},d.a.createElement("span",{class:"material-icons"},"theaters"))),d.a.createElement("div",{className:"row"},d.a.createElement("p",null,this.props.description)))}}]),a}(s.Component)),O=function(e){Object(c.a)(a,e);var t=Object(l.a)(a);function a(){var e;return Object(o.a)(this,a),(e=t.call(this)).state={title:"",link:"",linkvalid:"background-transparent",type:"",description:"",buttonColor:"lightgray"},e.handleChange=e.handleChange.bind(Object(i.a)(e)),e.handleSubmit=e.handleSubmit.bind(Object(i.a)(e)),e.radioChange=e.radioChange.bind(Object(i.a)(e)),e.checkLink=e.checkLink.bind(Object(i.a)(e)),e}return Object(r.a)(a,[{key:"radioChange",value:function(e){this.setState({type:e.currentTarget.value})}},{key:"checkLink",value:function(e){"link"==e.target.name&&""!=e.target.value&&(!function(e){if(/(ftp|http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?/.test(e))return console.log("linkvalid"),!0;return console.log("link not valid"),!1}(e.target.value)?(this.setState({linkvalid:"background-red"}),console.log(this.linkvalid)):(this.setState({linkvalid:"background-transparent"}),console.log(this.linkvalid)))}},{key:"handleChange",value:function(e){this.setState(Object(n.a)({},e.target.name,e.target.value)),""!=this.title&&""!=this.type&&""!=this.description&&this.setState({buttonColor:"black"})}},{key:"handleSubmit",value:function(e){if(e.preventDefault(),""!=this.title&&""!=this.type&&""!=this.description){var t=v.a.database().ref("publicrecs"),a={title:this.state.title,link:this.state.link,creator:"",rating:0,description:this.state.description,type:this.state.type};t.push(a),this.setState({title:"",link:"",description:"",type:""})}}},{key:"render",value:function(){var e=this;return d.a.createElement("section",{className:"add-item"},d.a.createElement("form",{onSubmit:this.handleSubmit},d.a.createElement("input",{type:"text",name:"title",placeholder:"title",onChange:this.handleChange,value:this.state.title}),d.a.createElement("input",{className:this.linkvalid,onBlur:this.checkLink,type:"text",name:"link",placeholder:"link",onChange:this.handleChange,value:this.state.link}),d.a.createElement("div",{className:"typeselector"},S.map((function(t){return d.a.createElement("div",{className:"typeradio"},d.a.createElement("input",{id:t,checked:e.state.type===t,type:"radio",key:t,value:t,onChange:e.radioChange.bind(e)}),d.a.createElement("label",{for:t,class:"radio",className:"button"},t.toUpperCase()))}))),d.a.createElement("textarea",{name:"description",placehold:"Why do you like it?",onChange:this.handleChange,value:this.state.description}),d.a.createElement("button",null,"SUBMIT")))}}]),a}(s.Component),M=function(e){Object(c.a)(a,e);var t=Object(l.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this)).state={currentuser:"",loggedin:!1,currentrecs:[],addModalVisible:!1},n.recList=d.a.createRef(),n.stepWizard=d.a.createRef(),n.getCurrentRecs=n.getCurrentRecs.bind(Object(i.a)(n)),n.getTrendingRecs=n.getTrendingRecs.bind(Object(i.a)(n)),n.addModalShow=n.addModalShow.bind(Object(i.a)(n)),n}return Object(r.a)(a,[{key:"componentDidMount",value:function(){this.getCurrentRecs()}},{key:"addModalShow",value:function(){this.setState({addModalVisible:!0})}},{key:"addModalHide",value:function(){this.setState({addModalVisible:!1})}},{key:"setButtonState",value:function(e){w()(".toolbarbutton").removeClass("selected"),w()(e).addClass("selected")}},{key:"getTrendingRecs",value:function(){this.setButtonState(w()(".trendingbutton"));var e=this;v.a.database().ref("/publicrecs/").orderByChild("rating").limitToLast(50).once("value").then((function(t){console.log(t);var a=[];t.forEach((function(e){var t=e.key;console.log(t);var n=e.val();console.log(n),a.push(n)})),a.reverse(),e.recList.current.setState({recs:a}),w()("html, body").animate({scrollTop:0},500)}))}},{key:"getCurrentRecs",value:function(){this.setButtonState(w()(".newbutton"));var e=this;v.a.database().ref("/publicrecs/").once("value").then((function(t){console.log(t);var a=[];t.forEach((function(e){var t=e.key;console.log(t);var n=e.val();console.log(n),a.push(n)})),e.recList.current.setState({recs:a}),w()("html, body").animate({scrollTop:0},500)}))}},{key:"render",value:function(){return d.a.createElement("div",null,"    ",d.a.createElement("div",{class:"title"},d.a.createElement("h1",null,"REC WORLD"),d.a.createElement("div",{className:"toolbar"},d.a.createElement("button",{className:"toolbarbutton newbutton",onClick:this.getCurrentRecs},d.a.createElement("span",{class:"material-icons"},"gradient"),"new"),d.a.createElement("button",{className:"toolbarbutton trendingbutton",onClick:this.getTrendingRecs},d.a.createElement("span",{class:"material-icons"},"equalizer"),"TRENDING"),d.a.createElement("button",{onClick:this.addModalShow},d.a.createElement("span",{class:"material-icons"},"add"),"ADD"))),d.a.createElement("div",{class:"title hidden"},d.a.createElement("h1",null,"REC WORLD")),d.a.createElement("div",{className:"title"},d.a.createElement("div",{className:"container"})),d.a.createElement("div",null,d.a.createElement(C,{ref:this.recList}),d.a.createElement("div",{className:"threejs"},d.a.createElement(E,null))),d.a.createElement("div",{classname:"addform"},d.a.createElement(g.a,{visible:this.state.addModalVisible,measure:"",width:10,height:10,onClose:this.addModalHide.bind(this)},d.a.createElement(O,null))))}}]),a}(s.Component),N=document.getElementById("root");h.a.render(d.a.createElement(M,null),N)},46:function(e,t,a){}},[[26,1,2]]]);
//# sourceMappingURL=main.a9efea33.chunk.js.map