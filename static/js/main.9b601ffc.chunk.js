(this.webpackJsonprecworld=this.webpackJsonprecworld||[]).push([[0],{25:function(e,t,a){e.exports=a.p+"static/media/venus.f6ef71ab.glb"},26:function(e,t,a){e.exports=a(27)},27:function(e,t,a){"use strict";a.r(t);var n=a(4),o=a(7),i=a(8),r=a(12),c=a(9),s=a(10),l=a(2),d=a.n(l),u=a(21),m=a.n(u),h=a(1),p=a(22),b=a(15),v=a.n(b),f=a(16),w=a.n(f),g=a(23),E=(a(44),a(45),a(46),a(25)),y=a.n(E);v.a.initializeApp({apiKey:"AIzaSyDiGzl-w4zQsJQG9c-7UsL0t9-CF9RnOUE",authDomain:"recworld-abde0.firebaseapp.com",databaseURL:"https://recworld-abde0.firebaseio.com",projectId:"recworld-abde0",storageBucket:"recworld-abde0.appspot.com",messagingSenderId:"301870437630",appId:"1:301870437630:web:c3eb9472d89f2ab1a101af"});var C=function(e){Object(s.a)(a,e);var t=Object(c.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(r.a)(a,[{key:"componentDidMount",value:function(){var e=1e-4,t=new h.ab,a=new h.Q(50,window.innerWidth/window.innerHeight,.1,1e3),n=new h.nb({alpha:!0});n.setClearColor(16777215,0),n.shadowMap.enabled=!0,n.shadowMapSoft=!0,n.shadowMap.type=h.P,n.setSize(window.innerWidth,window.innerHeight),document.body.appendChild(n.domElement);var o=new h.R(200,200,200),i=new h.bb({color:6710886,side:h.j});i.opacity=.2;var r=new h.E(o,i);r.position.z=-5,r.receiveShadow=!0,t.add(r),a.position.z=7.5;var c=new p.a,s=new h.fb(16119285);s.position.set(-.5,-.5,10),s.intensity=1,s.castShadow=!0;s.shadow.mapSize.width=3072,s.shadow.mapSize.height=3072;s.shadow.camera.left=-10,s.shadow.camera.right=10,s.shadow.camera.top=10,s.shadow.camera.bottom=-10,s.shadow.radius=3,t.add(s);var l=new h.a(16119285);l.intensity=.25,t.add(l),a.add(l);var d=[],u=[],m=[];c.load(y.a,(function(o){console.log("loaded scene"),t.add(o.scene),t.traverse((function(e){console.log(e.name)})),o.scene.position.z=-1e3;var i=t.getObjectByName("venus"),r=t.getObjectByName("chandelier"),c=t.getObjectByName("Circle002");i.castShadow=!0,r.castShadow=!0,c.castShadow=!0,d.push(i),u.push(r),u.push(c);var s=[-3,-3.2,-3.1,3,3.2,3.1],l=[2,3,5],h=!0;window.onblur=function(){h=!1},window.onfocus=function(){h=!0},function e(){if(h&&(!(m.length>0)||m.slice(-1)[0].position.y>-8)){var n=u[Math.floor(Math.random()*u.length)].clone();t.add(n),n.position.x=s[Math.floor(Math.random()*s.length)]*(a.aspect-.1),n.position.y=-8-l[Math.floor(Math.random()*l.length)],m.push(n)}setTimeout(e,3e3)}();!function o(){requestAnimationFrame(o),m.forEach((function(a){a.rotation.y+=.005+.01*e,a.rotation.x+=.001,a.position.y+=.005,a.position.x+=a.position.x/15e3,a.position.y>10&&t.remove(a)})),n.render(t,a)}()}),void 0,(function(e){console.error(e)}));var b=function(e){var t,a,n,o,i=(e=e||{}).delay||50;function r(){t=null,o=0}return r(),function(){return a=window.scrollY,null!=t&&(o=a-t),t=a,clearTimeout(n),n=setTimeout(r,i),o}}();window.onscroll=function(){!function(){var t=document.body.scrollTop||document.documentElement.scrollTop,n=document.documentElement.scrollHeight-document.documentElement.clientHeight,o=t/n;a.position.y=0-5*o,s.position.y=0-5*o,e=Math.abs(b())}()};var v=null;w()(window).resize((function(){null!=v&&window.clearTimeout(v),v=window.setTimeout((function(){a.aspect=window.innerWidth/window.innerHeight,a.updateProjectionMatrix(),n.setSize(window.innerWidth,window.innerHeight)}),200)}));!function(e){var t;e&&"function"===typeof e&&window.addEventListener("scroll",(function(a){window.clearTimeout(t),t=setTimeout((function(){e()}),66)}),!1)}((function(){e=0}))}},{key:"render",value:function(){var e=this;return d.a.createElement("div",{ref:function(t){return e.mount=t}}," ")}}]),a}(l.Component),O=(v.a.database(),l.Component,function(e){Object(s.a)(a,e);var t=Object(c.a)(a);function a(){var e;return Object(i.a)(this,a),(e=t.call(this)).state={recs:[],currenttitle:"HELLO"},e.updateRecs=e.updateRecs.bind(Object(o.a)(e)),e}return Object(r.a)(a,[{key:"updateRecs",value:function(e){this.setState({recs:e})}},{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return d.a.createElement("div",{className:"reclist"},d.a.createElement("div",null,this.state.currenttitle),this.state.recs.map((function(e){return d.a.createElement(M,{type:e.type,title:e.title,link:e.link,description:e.description})}))," ")}}]),a}(l.Component)),j={creator:"",description:"",rating:0,title:"",type:""},S=["movie","tv show","game","location","spiritual practice"],k=(l.Component,l.Component,l.Component,function(e){Object(s.a)(a,e);var t=Object(c.a)(a);function a(){var e;return Object(i.a)(this,a),(e=t.call(this)).state={selectedOption:""},e.radioChange=e.radioChange.bind(Object(o.a)(e)),e}return Object(r.a)(a,[{key:"radioChange",value:function(e){this.setState({selectedOption:e.currentTarget.value})}},{key:"render",value:function(){var e=this;return d.a.createElement("div",{className:"typeselector"},S.map((function(t){return d.a.createElement("div",{className:"typeradio"},d.a.createElement("input",{id:t,checked:e.state.selectedOption===t,type:"radio",key:t,value:t,onChange:e.radioChange}),d.a.createElement("label",{for:t,class:"radio",className:"button"},t.toUpperCase()))})))}}]),a}(d.a.Component)),M=function(e){Object(s.a)(a,e);var t=Object(c.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(r.a)(a,[{key:"render",value:function(){return d.a.createElement("div",{className:"card"},d.a.createElement("div",{className:"row"},d.a.createElement("div",{className:"col-sm-8"},d.a.createElement("h1",null,d.a.createElement("a",{href:this.props.link},this.props.title)),d.a.createElement("p",{className:"subtitle"},d.a.createElement("h2",null,this.props.type))),d.a.createElement("div",{className:"col-sm-4"},d.a.createElement("span",{class:"material-icons"},"theaters"))),d.a.createElement("div",{className:"row"},d.a.createElement("p",null,this.props.description)))}}]),a}(l.Component),N=function(e){Object(s.a)(a,e);var t=Object(c.a)(a);function a(){var e;return Object(i.a)(this,a),(e=t.call(this)).state={currentItem:"",username:""},e.handleChange=e.handleChange.bind(Object(o.a)(e)),e.handleSubmit=e.handleSubmit.bind(Object(o.a)(e)),e}return Object(r.a)(a,[{key:"handleChange",value:function(e){this.setState(Object(n.a)({},e.target.name,e.target.value))}},{key:"handleSubmit",value:function(e){e.preventDefault();var t=v.a.database().ref("items"),a={title:this.state.currentItem,user:this.state.username};t.push(a),this.setState({currentItem:"",username:""})}},{key:"render",value:function(){return d.a.createElement("section",{className:"add-item"},d.a.createElement("form",{onSubmit:this.handleSubmit},d.a.createElement("input",{type:"text",name:"title",placeholder:"What's your name?",onChange:this.handleChange,value:this.state.username}),d.a.createElement("input",{type:"text",name:"currentItem",placeholder:"What are you bringing?",onChange:this.handleChange,value:this.state.currentItem}),d.a.createElement(k,null),d.a.createElement("button",null,"Add Item"),d.a.createElement("div",null,this.state.currentItem)))}}]),a}(l.Component),R=function(e){Object(s.a)(a,e);var t=Object(c.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this)).state={currentuser:"",loggedin:!1,currentrecs:[],addModalVisible:!1},n.recList=d.a.createRef(),n.stepWizard=d.a.createRef(),n.getCurrentRecs=n.getCurrentRecs.bind(Object(o.a)(n)),n.getTrendingRecs=n.getTrendingRecs.bind(Object(o.a)(n)),n.addModalShow=n.addModalShow.bind(Object(o.a)(n)),n}return Object(r.a)(a,[{key:"componentDidMount",value:function(){this.getCurrentRecs()}},{key:"addModalShow",value:function(){this.setState({addModalVisible:!0})}},{key:"addModalHide",value:function(){this.setState({addModalVisible:!1})}},{key:"setButtonState",value:function(e){w()(".toolbarbutton").removeClass("selected"),w()(e).addClass("selected")}},{key:"getTrendingRecs",value:function(){this.setButtonState(w()(".trendingbutton"));var e=this;v.a.database().ref("/publicrecs/").orderByChild("rating").limitToLast(50).once("value").then((function(t){console.log(t);var a=[];t.forEach((function(e){var t=e.key;console.log(t);var n=e.val();console.log(n),a.push(n)})),a.reverse(),e.recList.current.setState({recs:a})}))}},{key:"getCurrentRecs",value:function(){this.setButtonState(w()(".newbutton"));var e=this;v.a.database().ref("/publicrecs/").once("value").then((function(t){console.log(t);var a=[];t.forEach((function(e){var t=e.key;console.log(t);var n=e.val();console.log(n),a.push(n)})),e.recList.current.setState({recs:a})}))}},{key:"render",value:function(){return d.a.createElement("div",null,"    ",d.a.createElement("div",{class:"title"},d.a.createElement("h1",null,"REC WORLD"),d.a.createElement("div",{className:"toolbar"},d.a.createElement("button",{className:"toolbarbutton newbutton",onClick:this.getCurrentRecs},d.a.createElement("span",{class:"material-icons"},"gradient"),"new"),d.a.createElement("button",{className:"toolbarbutton trendingbutton",onClick:this.getTrendingRecs},d.a.createElement("span",{class:"material-icons"},"equalizer"),"TRENDING"),d.a.createElement("button",{onClick:this.addModalShow},d.a.createElement("span",{class:"material-icons"},"add"),"ADD"))),d.a.createElement("div",{class:"title hidden"},d.a.createElement("h1",null,"REC WORLD")),d.a.createElement("div",{className:"title"},d.a.createElement("div",{className:"container"})),d.a.createElement("div",null,d.a.createElement(O,{ref:this.recList}),d.a.createElement("div",{className:"threejs"},d.a.createElement(C,null))),d.a.createElement("div",{classname:"addform"},d.a.createElement(g.a,{visible:this.state.addModalVisible,measure:"",width:10,height:10,onClose:this.addModalHide.bind(this)},d.a.createElement(N,null))))}}]),a}(l.Component),T=document.getElementById("root");m.a.render(d.a.createElement(R,null),T)},46:function(e,t,a){}},[[26,1,2]]]);
//# sourceMappingURL=main.9b601ffc.chunk.js.map